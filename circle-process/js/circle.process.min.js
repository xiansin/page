var CircleProcess=(function(e){var f="0.0.1";var c;var b;var j;var g;var d;var h;var a;var i=function(k){return new i.fn.init(k)};i.fn=i.prototype={circleProcess:f,context:null,option:{},interVal:0,constructor:i,init:function(k){if(typeof k==="undefined"){throw new Error("Unable to get canvas object")}this.context=k.getContext("2d");this.option=this._option();this._getCanvasOption(k);this._getOption();this.process=function(){this.interVal=setInterval(function(){this.run()}.bind(this),20)};this.setOption=function(l){this._setOption(l);this._getOption()}},run:function(){var k=c.process;if(k>=c.percent){clearInterval(this.interVal)}this._clear();if(b.show){this._backgroundCircle()}if(j.show){this._circleGradient(c.process)}if(g.show){this._smallCircle(g.radius,"#06a8f3",0)}if(d.show){this._smallCircle(d.radius,"#00f8bb",k)}if(a.show){this._showProcess(k)}this._speed(c.percentCircle.speed)},_clear:function(){this.context.clearRect(0,0,b.roundX*2,b.roundY*2)},_backgroundCircle:function(){this.context.lineWidth=c.lineWidth;this.context.beginPath();this.context.arc(b.roundX,b.roundY,c.radius,b.startAngle,b.endAngle);this.context.strokeStyle=b.color;this.context.stroke();this.context.closePath()},_circleGradient:function(k){this.context.beginPath();this.context.lineWidth=c.lineWidth;this.context.arc(b.roundX,b.roundY,c.radius,b.startAngle,b.startAngle+b.startAngle*k/100,false);this.context.strokeStyle=this._linearGradient();this.context.lineCap="round";this.context.stroke();this.context.closePath()},_linearGradient:function(){var o=b.roundX-c.radius-this.option.lineWidth;var k=b.roundX+c.radius+this.option.lineWidth;var m=b.roundY;var n=b.roundY;var l=this.context.createLinearGradient(o,m,k,n);l.addColorStop(0,"rgba(255,0,0,0.1)");l.addColorStop(0.3,"rgba(255,0,0,0.3)");l.addColorStop(0.5,"rgba(255,0,0,0.5)");l.addColorStop(0.7,"rgba(255,0,0,0.7)");l.addColorStop(0.9,"rgba(255,0,0,0.9)");l.addColorStop(1,"rgba(255,0,0,1)");return l},_smallCircle:function(l,m,n){var k=Math.cos(2*Math.PI/360*(180+n*1.8))*c.radius+b.roundX;var o=Math.sin(2*Math.PI/360*(180+n*1.8))*c.radius+b.roundY;this.context.beginPath();this.context.arc(k,o,l,0,Math.PI*2);this.context.lineWidth=1;this.context.fillStyle=m;this.context.fill()},_showProcess:function(k){this.context.font=a.fontSize+"px April";this.context.textAlign=a.textAlign;this.context.textBaseline=a.textBaseline;this.context.fillStyle=a.color;this.context.fillText(parseFloat(k).toFixed(0)+"%",b.roundX,b.roundY)},_speed:function(l){var k=this.option;if(l==="gradient"){if(k.process/k.percent>0.9){k.process+=0.3}else{if(k.process/k.percent>0.8){this.option.process+=0.55}else{if(k.process/k.percent>0.7){k.process+=0.75}else{k.process+=1}}}}else{if(l==="normal"){k.process+=1}else{if(l==="fast"){k.process+=2.5}}}},_getCanvasOption:function(k){this._extend(this.option,{backgroundCircle:{roundX:k.width/2,roundY:k.height/2,startAngle:Math.PI*180/180,endAngle:Math.PI*180/180*2}})},_extend:function(l,m){for(var k in m){if(typeof m[k]==="object"){this._extend(l[k],m[k])}else{if(m.hasOwnProperty(k)&&(!l.hasOwnProperty(k))){l[k]=m[k]}else{if(m.hasOwnProperty(k)&&l.hasOwnProperty(k)){l[k]=m[k]}}}}},_getOption:function(){c=this.option;b=c.backgroundCircle;j=c.percentCircle;g=c.startSmallCircle;d=c.endSmallCircle;h=c.gradient;a=c.processText},_setOption:function(k){this._extend(this.option,k)},_option:function(){return{size:"half",lineWidth:5,radius:100,position:"center",percent:80,process:0,backgroundCircle:{show:true,color:"#eee",roundX:0,roundY:0,startAngle:0,endAngle:0},percentCircle:{show:true,color:"",speed:"gradient",},startSmallCircle:{show:true,color:"#06a8f3",radius:5},endSmallCircle:{show:true,color:"#00f8bb",radius:5},gradient:{color:""},processText:{show:true,fontSize:20,color:"#ccc",follow:false,textAlign:"center",textBaseline:"alphabetic"}}}};i.fn.init.prototype=i.fn;return i})();